<sky-modal>
  <sky-modal-content>
    <button class="close-button" (click)="closeModal()">×</button>
    <h3 class="modal-title">
      Reseñas de {{ attendant?.fullName || "Médico" }}
    </h3>
    <div class="reviews-container" *ngIf="reviews?.length">
      <div class="review-card" *ngFor="let review of reviews">
        <div class="review-header">
          <img
            [attr.src]="
              review.User?.profileImage
                ? bffUrl + review.User?.profileImage!
                : 'assets/default-profile.png'
            "
            alt="Perfil"
            class="profile-img"
            loading="lazy"
          />

          <div class="user-info">
            <h4>{{ review.User?.fullName || "Usuario desconocido" }}</h4>
            <div class="stars">
              <ng-container *ngFor="let star of [1, 2, 3, 4, 5]; let i = index">
                <i
                  class="fa"
                  [ngClass]="{
                    'fa-star': i < review.rating,
                    'fa-star-o': i >= review.rating
                  }"
                  style="color: gold"
                ></i>
              </ng-container>
            </div>
          </div>
        </div>

        <div class="review-body">
          <p>{{ review.comment || "Sin comentarios." }}</p>
        </div>

        <div class="review-footer">
          <small>{{ review.dateCreated | date : "dd/MM/yyyy" }}</small>
        </div>
      </div>
    </div>

    <!-- Si no hay ninguna review -->
    <div *ngIf="reviews?.length === 0">
      <p>No hay reseñas todavía.</p>
    </div>
  </sky-modal-content>
</sky-modal>
